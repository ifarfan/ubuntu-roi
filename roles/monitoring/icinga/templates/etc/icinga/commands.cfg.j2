#===============================================================================
#
#  C O M M A N D S . C F G
#
#===============================================================================


#=============================================
#  Notify: Default email templates
#=============================================
define command{
	command_name	notify-host-by-email
	command_line	/usr/bin/printf "%b" "\nHost: $HOSTNAME$\nState: $HOSTSTATE$\nAddress: $HOSTADDRESS$\n\nNotification: $NOTIFICATIONTYPE$\nDate/Time: $SHORTDATETIME$\n\nInfo: $HOSTOUTPUT$\n\n http://icinga.{{ environ_name }}.rf29.net/cgi-bin/icinga/extinfo.cgi?type=1&host=$HOSTNAME$" | /usr/bin/mail -s "{{ environ_name|upper() }} $NOTIFICATIONTYPE$: $HOSTNAME$ is $HOSTSTATE$" $CONTACTEMAIL$
}
define command{
	command_name	notify-service-by-email
	command_line	/usr/bin/printf "%b" "\nService: $SERVICEDESC$\nHost: $HOSTALIAS$\nAddress: $HOSTADDRESS$\nNotification: $NOTIFICATIONTYPE$\nState: $SERVICESTATE$\nDate/Time: $SHORTDATETIME$\n\nAdditional Info:\n$SERVICEOUTPUT$\n\nNotes:\n$SERVICENOTES$\n\n http://icinga.{{ environ_name }}.rf29.net/cgi-bin/icinga/status.cgi?host=$HOSTNAME$" | /usr/bin/mail -s "{{ environ_name|upper() }} $NOTIFICATIONTYPE$: $HOSTNAME$, $SERVICEDESC$ is $SERVICESTATE$" $CONTACTEMAIL$
}


#=============================================
#  Notify: HTML email templates
#=============================================
define command{
	command_name    graph-notify-host-email
	command_line    $USER1$/pnp4n_send_host_mail.pl -p "Refinery29" -c "$CONTACTADDRESS1$" -f graph -u -l en
}
define command{
	command_name    graph-notify-service-email
	command_line    $USER1$/pnp4n_send_service_mail.pl -p "Refinery29" -c "$CONTACTADDRESS1$" -f graph -u -l en
}


#=============================================
#  Cluster Commands
#=============================================
define command{
	command_name	check_cluster_service
	command_line	$USER1$/check_cluster --service --label $ARG1$ -w $ARG2$ -c $ARG3$ --data $ARG4$
}
define command{
	command_name	check_cluster_host
	command_line	$USER1$/check_cluster --host    --label $ARG1$ -w $ARG2$ -c $ARG3$ --data $ARG4$
}


#===============================================================================
# SAMPLE PERFORMANCE DATA COMMANDS
# These are sample performance data commands that can be used to send performance
# data output to two text files (one for hosts, another for services).  If you
# plan on simply writing performance data out to a file, consider using the
# host_perfdata_file and service_perfdata_file options in the main config file.
#===============================================================================

# 'process-host-perfdata' command definition
define command{
	command_name	process-host-perfdata
	command_line	/usr/bin/printf "%b" "$LASTHOSTCHECK$\t$HOSTNAME$\t$HOSTSTATE$\t$HOSTATTEMPT$\t$HOSTSTATETYPE$\t$HOSTEXECUTIONTIME$\t$HOSTOUTPUT$\t$HOSTPERFDATA$\n" >> /var/cache/icinga/host-perfdata.out
}

# 'process-service-perfdata' command definition
define command{
	command_name	process-service-perfdata
	command_line	/usr/bin/printf "%b" "$LASTSERVICECHECK$\t$HOSTNAME$\t$SERVICEDESC$\t$SERVICESTATE$\t$SERVICEATTEMPT$\t$SERVICESTATETYPE$\t$SERVICEEXECUTIONTIME$\t$SERVICELATENCY$\t$SERVICEOUTPUT$\t$SERVICEPERFDATA$\n" >> /var/cache/icinga/service-perfdata.out
}
